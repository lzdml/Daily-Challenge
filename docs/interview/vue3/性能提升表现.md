## Vue3 性能提升表现

- 编译阶段
- 源码体积
- 响应式系统

---

**编译阶段：**

- 在编译阶段，`Vue3` 使用了基于 `Proxy` 的响应式系统，相比于 `Vue2` 中的 `Object.defineProperty`，`Proxy` 具有更高的性能表现。`Proxy` 可以提供更细粒度的拦截器，使得 `Vue3` 可以更好地静态分析组件的模板，减少了不必要的运行时检查和操作，从而提高了编译性能。
- `Vue3` 引入了编译时优化，通过对模板的静态分析和优化，生成更高效的渲染函数。这些优化包括标记静态节点、提取常量、内联事件处理程序等，这些优化措施在运行时减少了不必要的计算和操作，提高了渲染性能。

**源码体积：**

- `Vue3` 的源码体积相对于 `Vue2` 有所减小。`Vue3` 在设计上采用了模块化的架构，将核心功能和可选的特性拆分成独立的模块。这种模块化的设计使得开发者可以按需引入所需的功能，减少了不必要的代码加载和解析，从而减小了最终打包的文件大小。
- `Vue3` 还通过编译时优化和 `Tree-shaking` 技术来消除未使用的代码，进一步减小了源码体积。编译时优化可以根据模板的静态分析结果，去除不必要的代码路径，使得最终生成的渲染函数更加高效。  
  **响应式系统：**
- `Vue3` 的响应式系统采用了基于 `Proxy` 的实现方式，相比于 `Vue2` 中的 `Object.defineProperty`，`Proxy` 具有更高的性能。`Proxy` 可以提供更细粒度的拦截器，使得 `Vue3` 可以更好地追踪依赖，只对访问的属性进行追踪，避免了 `Vue2` 中对整个对象进行递归追踪的开销。
- `Vue3` 的响应式系统还引入了多个`优化策略`，如`懒代理`、`缓存访问`和`副作用跟踪`等。这些优化策略可以在运行时减少不必要的操作和计算，提高了响应式系统的性能。
